<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Efra칤n Shop</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    /* Reset b치sico */
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
    body { background: #f5f5f5; color: #111; }

    /* Barra superior */
    .top-bar {
      display: flex; justify-content: space-between; align-items: center;
      padding: 10px 20px; background: #222; color: #fff;
      position: sticky; top: 0; z-index: 100;
    }
    .menu-btn { font-size: 24px; cursor: pointer; }
    .site-title { font-size: 24px; text-align: center; flex: 1; }
    .search-bar { flex: 2; display: flex; justify-content: center; }
    .search-bar input { padding: 5px 10px; width: 70%; border-radius: 5px; border: none; }
    .cart-btn { cursor: pointer; position: relative; }
    .cart-count { position: absolute; top: -5px; right: -10px; background: red; color: #fff; border-radius: 50%; padding: 2px 6px; font-size: 12px; }

    /* Men칰 lateral */
    .side-menu {
      position: fixed; top: 0; left: -300px; width: 300px; height: 100%; background: #333; color: #fff; transition: 0.3s;
      padding: 20px; overflow-y: auto; z-index: 200;
    }
    .side-menu.active { left: 0; }
    .side-menu h3 { margin-bottom: 10px; }
    .side-menu ul { list-style: none; }
    .side-menu li { margin: 10px 0; cursor: pointer; }
    .side-menu li:hover { text-decoration: underline; }
    .side-menu .close-btn { position: absolute; top: 10px; right: 20px; cursor: pointer; font-size: 20px; }

    /* Productos */
    .products-container { display: flex; flex-wrap: wrap; justify-content: center; padding: 20px; gap: 20px; }
    .product-card { background: #fff; border-radius: 10px; padding: 10px; width: 200px; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2); cursor: pointer; transition: transform 0.2s; }
    .product-card:hover { transform: scale(1.05); }
    .product-card img { width: 100%; height: 150px; object-fit: cover; border-radius: 5px; }

    /* Carrusel de nuevos productos */
    .carousel-container { overflow-x: auto; display: flex; gap: 10px; padding: 10px; }
    .carousel-item { min-width: 150px; flex-shrink: 0; }

    /* Productos estrella (anuncios) */
    .featured-products { display: flex; overflow-x: auto; gap: 10px; padding: 10px; background: #eee; border-radius: 10px; }

    /* Carrito */
    .cart-container {
      position: fixed; top: 50px; right: 20px; width: 300px; max-height: 80%; overflow-y: auto;
      background: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.3); display: none; z-index: 300;
    }
    .cart-item { display: flex; align-items: center; justify-content: space-between; margin-bottom: 10px; }
    .cart-item img { width: 50px; height: 50px; object-fit: cover; border-radius: 5px; }
    .cart-empty { text-align: center; color: #777; margin-top: 50px; }

    /* Animaci칩n carrito */
    .cart-shake { animation: shake 0.5s; }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px); }
      50% { transform: translateX(5px); }
      75% { transform: translateX(-5px); }
      100% { transform: translateX(0); }
    }

    /* Botones */
    button { padding: 5px 10px; cursor: pointer; border: none; border-radius: 5px; background: #28a745; color: #fff; }
  </style>
</head>
<body>

  <!-- Barra superior -->
  <div class="top-bar">
    <div class="menu-btn">&#9776;</div>
    <div class="site-title">Efra칤n Shop</div>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Buscar productos...">
    </div>
    <div class="cart-btn">游<span class="cart-count" id="cartCount">0</span></div>
  </div>

  <!-- Men칰 lateral -->
  <div class="side-menu" id="sideMenu">
    <div class="close-btn">&times;</div>
    <ul>
      <li id="accountBtn">Cuenta</li>
      <li id="myPurchases">Mis compras</li>
      <li>Productos
        <ul>
          <li>Gorras</li>
          <li>Camisetas</li>
          <li>Cintos</li>
          <li>Pantalones</li>
          <li>Tenis</li>
          <li>Sudaderas</li>
        </ul>
      </li>
      <li id="loginBtn">Iniciar sesi칩n / Registrarse</li>
      <li id="logoutBtn" style="display:none;">Salir de mi cuenta</li>
      <li>Nosotros
        <ul>
          <li>Instagram</li>
          <li>Facebook</li>
          <li>X</li>
          <li>Youtube</li>
        </ul>
      </li>
    </ul>
  </div>

  <!-- Carrusel de nuevos productos -->
  <div class="carousel-container" id="newProductsCarousel"></div>

  <!-- Productos estrella -->
  <div class="featured-products" id="featuredProducts"></div>

  <!-- Productos en stock -->
  <div class="products-container" id="productsContainer"></div>

  <!-- Carrito -->
  <div class="cart-container" id="cartContainer">
    <div id="cartItems"></div>
    <div class="cart-empty" id="cartEmpty">Tu carrito est치 vac칤o</div>
    <div id="paymentOptions" style="display:none;">
      <button onclick="alert('Pago PayPal')">PayPal</button>
      <button onclick="alert('Pago con tarjeta')">Tarjeta</button>
      <button onclick="alert('Pago en Oxxo')">Oxxo</button>
      <button onclick="alert('Pago con CLABE')">CLABE</button>
    </div>
  </div>

  <script>
    // Datos de ejemplo
    const products = [
      {id:1,name:"Camiseta Negra Oversize", category:"Camisetas", price:250, img:"https://via.placeholder.com/150", talla:"M"},
      {id:2,name:"Gorra del Barbas Hats", category:"Gorras", price:150, img:"https://via.placeholder.com/150"},
      {id:3,name:"Pantal칩n Jeans", category:"Pantalones", price:350, img:"https://via.placeholder.com/150", talla:"L"},
      {id:4,name:"Sudadera Roja", category:"Sudaderas", price:400, img:"https://via.placeholder.com/150", talla:"XL"},
      {id:5,name:"Tenis Running", category:"Tenis", price:600, img:"https://via.placeholder.com/150"}
    ];

    // Manejo de men칰 lateral
    const menuBtn = document.querySelector(".menu-btn");
    const sideMenu = document.getElementById("sideMenu");
    const closeBtn = document.querySelector(".close-btn");
    menuBtn.onclick = () => sideMenu.classList.add("active");
    closeBtn.onclick = () => sideMenu.classList.remove("active");

    // Render de productos
    const productsContainer = document.getElementById("productsContainer");
    const featuredProducts = document.getElementById("featuredProducts");
    const newProductsCarousel = document.getElementById("newProductsCarousel");

    function renderProducts(list) {
      productsContainer.innerHTML = "";
      list.forEach(p => {
        const card = document.createElement("div");
        card.className = "product-card";
        card.innerHTML = `<img src="${p.img}" alt="${p.name}"><h4>${p.name}</h4><p>$${p.price}</p><button onclick="addToCart(${p.id})">Agregar al carrito</button>`;
        productsContainer.appendChild(card);
      });
    }

    function renderCarousel(list) {
      newProductsCarousel.innerHTML = "";
      list.forEach(p => {
        const item = document.createElement("div");
        item.className = "carousel-item";
        item.innerHTML = `<img src="${p.img}" alt="${p.name}"><p>${p.name}</p>`;
        newProductsCarousel.appendChild(item);
      });
    }

    function renderFeatured(list) {
      featuredProducts.innerHTML = "";
      list.forEach(p => {
        const item = document.createElement("div");
        item.className = "carousel-item";
        item.innerHTML = `<img src="${p.img}" alt="${p.name}"><p>${p.name}</p>`;
        featuredProducts.appendChild(item);
      });
    }

    renderProducts(products);
    renderCarousel(products.slice(0,3));
    renderFeatured(products.slice(3));

    // Carrito
    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    const cartContainer = document.getElementById("cartContainer");
    const cartItems = document.getElementById("cartItems");
    const cartCount = document.getElementById("cartCount");
    const cartEmpty = document.getElementById("cartEmpty");
    const paymentOptions = document.getElementById("paymentOptions");

    function updateCart() {
      cartItems.innerHTML = "";
      if(cart.length===0){
        cartEmpty.style.display="block";
        paymentOptions.style.display="none";
      } else {
        cartEmpty.style.display="none";
        paymentOptions.style.display="block";
        cart.forEach(item=>{
          const p = products.find(pr=>pr.id===item.id);
          const div = document.createElement("div");
          div.className="cart-item";
          div.innerHTML=`<img src="${p.img}" alt="${p.name}"><span>${item.qty} x ${p.name}</span><span>$${p.price*item.qty}</span>`;
          cartItems.appendChild(div);
        });
      }
      cartCount.textContent = cart.reduce((a,b)=>a+b.qty,0);
      localStorage.setItem("cart", JSON.stringify(cart));
    }

    function addToCart(id){
      const existing = cart.find(item=>item.id===id);
      if(existing) existing.qty += 1;
      else cart.push({id, qty:1});
      updateCart();
      cartContainer.classList.add("cart-shake");
      setTimeout(()=>cartContainer.classList.remove("cart-shake"),500);
      alert("Agregado al carrito");
      cartContainer.style.display="block";
    }

    updateCart();

    // Buscador
    const searchInput = document.getElementById("searchInput");
    searchInput.addEventListener("input", ()=>{
      const filtered = products.filter(p=>p.name.toLowerCase().includes(searchInput.value.toLowerCase()) || (p.category && p.category.toLowerCase().includes(searchInput.value.toLowerCase())));
      renderProducts(filtered);
    });
  </script>
</body>
</html>
